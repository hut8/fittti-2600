<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=1024">
    <title>Fake it 'til they take it</title>

    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&display=swap" rel="stylesheet">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(to right, #000000, #1a1a1a);
            color: #e0e0e0;
            min-height: 100vh;
            overflow: hidden;
        }

        .fallback-message {
            display: none;
            font-family: sans-serif;
            line-height: 1.3;
            width: 780px;
            padding: 10px 10px 0;
            margin: 20px auto;
            border: 1px solid #e4c652;
            border-radius: 10px;
            background: #fffacd;
            color: #333;
        }
        .impress-not-supported .fallback-message { display: block; }

        .notes { display: none; }

        /* ── Step base ── */
        .step {
            width: 1200px;
            padding: 60px;
            font-size: 28px;
            line-height: 1.6;
            opacity: 0.15;
            transition: opacity 0.8s;
        }
        .step.active { opacity: 1; }

        /* ── Typography ── */
        h1 {
            font-size: 72px;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 20px;
        }

        h2 {
            font-size: 52px;
            font-weight: 700;
            line-height: 1.2;
            margin-bottom: 24px;
        }

        h3 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 16px;
        }

        .subtitle {
            font-size: 32px;
            color: #888;
            font-weight: 400;
        }

        .accent { color: #40c4ff; }
        .warn { color: #ffab40; }
        .highlight { color: #ffab40; }
        .blue { color: #40c4ff; }

        /* Character colors — only for Alice/Bob/Mallory */
        .alice { color: #00e676; }
        .mallory { color: #ff5252; }
        .bob { color: #40c4ff; }

        code, .mono {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(255,255,255,0.06);
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85em;
        }

        pre {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(0,0,0,0.5);
            border: 1px solid #333;
            border-radius: 8px;
            padding: 24px;
            font-size: 22px;
            line-height: 1.5;
            overflow-x: auto;
            margin: 20px 0;
        }

        ul {
            list-style: none;
            padding-left: 0;
        }

        ul li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }

        ul li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: #40c4ff;
        }

        .big-number {
            font-size: 120px;
            font-weight: 900;
            line-height: 1;
        }

        .divider {
            width: 80px;
            height: 4px;
            background: #40c4ff;
            margin: 20px 0;
        }

        .card {
            background: rgba(255,255,255,0.04);
            border: 1px solid #222;
            border-radius: 12px;
            padding: 32px;
            margin: 16px 0;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .tag {
            display: inline-block;
            background: rgba(64,196,255,0.15);
            color: #40c4ff;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: 18px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 16px;
        }

        .tag.green {
            background: rgba(0,230,118,0.15);
            color: #00e676;
        }

        .tag.red {
            background: rgba(255,82,82,0.15);
            color: #ff5252;
        }

        .tag.blue {
            background: rgba(64,196,255,0.15);
            color: #40c4ff;
        }

        .tag.orange {
            background: rgba(255,171,64,0.15);
            color: #ffab40;
        }

        .step-number {
            font-size: 180px;
            font-weight: 900;
            color: rgba(255,255,255,0.04);
            position: absolute;
            right: 40px;
            top: 20px;
        }

        .overview { display: none; }

        /* ── Navigation Menu ── */
        #nav-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.92);
            z-index: 9999;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
        }
        #nav-menu.visible {
            display: flex;
        }
        #nav-menu-inner {
            background: rgba(20, 20, 20, 0.98);
            border: 1px solid #333;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            max-height: 80vh;
            max-width: 600px;
            width: 90%;
            overflow-y: auto;
        }
        #nav-menu-header {
            background: rgba(64, 196, 255, 0.1);
            color: #40c4ff;
            padding: 16px 20px;
            font-weight: 700;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            border-bottom: 1px solid #333;
            position: sticky;
            top: 0;
        }
        #nav-menu-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        #nav-menu-list li {
            border-bottom: 1px solid #222;
        }
        #nav-menu-list li:last-child {
            border-bottom: none;
        }
        #nav-menu-list a {
            color: #e0e0e0;
            padding: 12px 20px;
            display: block;
            text-decoration: none;
            transition: background 0.2s, color 0.2s;
            font-size: 16px;
        }
        #nav-menu-list a:hover {
            background: rgba(64, 196, 255, 0.15);
            color: #40c4ff;
        }
        #nav-menu-list li.active a {
            background: rgba(64, 196, 255, 0.2);
            color: #40c4ff;
            border-left: 3px solid #40c4ff;
        }
        #nav-menu-list .slide-num {
            color: #555;
            font-size: 12px;
            margin-right: 12px;
        }

        /* ── Slide images ── */
        .slide-img {
            max-width: 100%;
            border-radius: 8px;
            border: 1px solid #333;
            margin: 20px 0;
        }

        .slide-video {
            max-width: 100%;
            border-radius: 8px;
            border: 1px solid #333;
            margin: 20px 0;
        }

        .img-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
            margin: 20px 0;
        }
        .img-grid img {
            width: 100%;
            border-radius: 8px;
            border: 1px solid #333;
        }

        /* ── Flowchart ── */
        .flow {
            display: flex;
            flex-direction: column;
            gap: 0;
            margin-top: 20px;
        }
        .flow-step {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .flow-node {
            background: rgba(255,255,255,0.04);
            border: 2px solid #333;
            border-radius: 10px;
            padding: 14px 22px;
            font-size: 22px;
            min-width: 420px;
            position: relative;
        }
        .flow-node.alice  { border-color: #00e676; }
        .flow-node.bob    { border-color: #40c4ff; }
        .flow-node.mallory { border-color: #ff5252; }
        .flow-num {
            font-weight: 900;
            font-size: 20px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .flow-num.green  { background: rgba(0,230,118,0.2); color: #00e676; }
        .flow-num.blue   { background: rgba(64,196,255,0.2); color: #40c4ff; }
        .flow-num.red    { background: rgba(255,82,82,0.2); color: #ff5252; }
        .flow-num.orange { background: rgba(255,171,64,0.2); color: #ffab40; }
        .flow-arrow {
            font-size: 24px;
            color: #555;
            text-align: center;
            padding: 2px 0 2px 56px;
        }

        /* Dense slide — for text-heavy slides */
        .step.dense {
            padding: 30px 50px;
            font-size: 22px;
            line-height: 1.4;
        }
        .step.dense h2 { font-size: 42px; margin-bottom: 14px; }
        .step.dense ul li { padding: 4px 0 4px 30px; }
        .step.dense .slide-img { margin: 10px 0; max-height: 280px; width: auto; }
    </style>
</head>
<body class="impress-not-supported">

    <div class="fallback-message">
        <p>Your browser <b>doesn't support the features required</b> by impress.js, so a simplified version of this presentation is shown.</p>
    </div>

    <div id="particles-js" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;"></div>

    <div id="impress" data-transition-duration="1000" data-width="1400" data-height="900">

        <!-- ════════════════════════════════════════ -->
        <!-- TITLE -->
        <!-- ════════════════════════════════════════ -->
        <div id="title" class="step" data-x="0" data-y="0" data-z="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-rotate-order="zxy" data-scale="3">
            <h1 style="font-size: 58px; white-space: nowrap;"><span class="accent">Fake it</span> 'til they <span class="warn">take</span> it</h1>
            <div class="divider"></div>
            <p class="subtitle">exposing the poisoned address playbook</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- BACKGROUND -->
        <!-- ════════════════════════════════════════ -->
        <div id="background" class="step" data-x="1200" data-y="800" data-z="-1400" data-rotate-x="10" data-rotate-y="0" data-rotate-z="30" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag">Background</span>
            <h2>How I fell down this rabbit hole</h2>
            <ul>
                <li>I buy crypto <span class="accent">peer-to-peer</span> sometimes</li>
                <li>Forgot my Trezor one day — needed my wallet address</li>
                <li>Looked up the seller's recent transactions to <span class="blue">find my own address</span></li>
                <li>Most blockchains are <span class="warn">radically public</span> — check <code>etherscan.io</code></li>
                <li>Nearly got scammed in the process</li>
                <li>Scams are <span class="highlight">fascinating</span></li>
                <li>I am <span class="accent">dangerously sidequest-prone</span></li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- RABBIT HOLE SCREENSHOT -->
        <!-- ════════════════════════════════════════ -->
        <div id="rabbit-hole" class="step" data-x="1500" data-y="1300" data-z="-2100" data-rotate-x="12" data-rotate-y="0" data-rotate-z="45" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag orange">Investigation</span>
            <h2>How deep does the rabbit hole go?</h2>
            <img src="assets/etherscan-rabbit-hole.png" alt="Etherscan transaction history showing the poisoned address pattern" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- ALICE / BOB / MALLORY -->
        <!-- ════════════════════════════════════════ -->
        <div id="alice-bob" class="step" data-x="1800" data-y="1800" data-z="-2800" data-rotate-x="15" data-rotate-y="0" data-rotate-z="60" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag blue">Terminology</span>
            <h2>Meet the cast</h2>
            <ul>
                <li><span class="alice">Alice</span> — the sender, the one initiating communication</li>
                <li><span class="bob">Bob</span> — the receiver, the intended recipient</li>
                <li><span class="mallory">Mallory</span> — the <em>malicious</em> actor, actively tampering with messages</li>
            </ul>
            <div class="divider"></div>
            <p>These are <span class="highlight">metasyntactic variables</span> — placeholder names used in cryptography and security to describe protocol participants. They come from early academic papers and are codified in <code>RFC 4949</code>.</p>
            <p style="margin-top: 16px;">Why not just say "Person A"? Because giving each role a <em>name</em> makes complex protocols readable. When you see Alice, you instantly know: she's sending. Mallory? She's up to no good.</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SCAM FLOWCHART -->
        <!-- ════════════════════════════════════════ -->
        <div id="flowchart" class="step" data-x="1600" data-y="2800" data-z="-4200" data-rotate-x="20" data-rotate-y="0" data-rotate-z="90" data-rotate-order="zxy" data-scale="2">
            <span class="tag red">The Attack</span>
            <h2>The poisoned address playbook</h2>
            <div class="flow">
                <div class="flow-step">
                    <span class="flow-num green">1</span>
                    <div class="flow-node alice"><span class="alice">Alice</span> sends crypto to <span class="bob">Bob</span> — a normal, legitimate transaction</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">2</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> sees this on the public blockchain and notes Alice's address</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">3</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> generates a <span class="highlight">lookalike address</span> — matching the first &amp; last few characters of Bob's</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">4</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> sends a <span class="highlight">zero-value tx</span> to Alice from the fake address — poisoning her history</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num orange">5</span>
                    <div class="flow-node alice"><span class="alice">Alice</span> tries to select <span class="bob">Bob's</span> address from an autocomplete that ranks <span class="mallory">Mallory</span> higher due to recency, then transfers currency</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">6</span>
                    <div class="flow-node mallory">Funds go to <span class="mallory">Mallory</span>. Irreversible. Gone.</div>
                </div>
            </div>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- VENMO ANALOGY -->
        <!-- ════════════════════════════════════════ -->
        <div id="venmo-analogy" class="step" data-x="400" data-y="3400" data-z="-5600" data-rotate-x="25" data-rotate-y="0" data-rotate-z="120" data-rotate-order="zxy" data-scale="2">
            <span class="tag orange">Venmo analogy</span>
            <h2>The same scam could work on Venmo</h2>
            <div class="flow">
                <div class="flow-step">
                    <span class="flow-num green">1</span>
                    <div class="flow-node alice"><span class="alice">Alice</span> sends <span class="bob">Bob</span> (her landlord) $1,000 every month. Venmo makes transactions <span class="warn">public by default</span> — just like the blockchain.</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">2</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> sees these repeated payments and notes Bob's handle: <code>@bobthelandlord2600</code></div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">3</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> creates <code>@bobthelandlord2600<span class="mallory">0</span></code> with the same avatar as Bob</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">4</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> sends <span class="alice">Alice</span> $0.01 from the fake account</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num orange">5</span>
                    <div class="flow-node alice"><span class="alice">Alice</span> types <code>bobt...</code> — <code>@bobthelandlord2600<span class="mallory">0</span></code> appears first (most recent transaction).</div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">6</span>
                    <div class="flow-node mallory"><span class="alice">Alice</span> sends $1,000 to <span class="mallory">Mallory</span>.</div>
                </div>
            </div>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- AND IT'S GONE -->
        <!-- ════════════════════════════════════════ -->
        <div id="and-its-gone" class="step" data-x="-4000" data-y="8000" data-z="-14000" data-rotate-x="30" data-rotate-y="0" data-rotate-z="150" data-rotate-order="zxy" data-scale="1.5" style="padding: 0; display: flex; align-items: center; justify-content: center;">
            <img src="assets/and-its-gone.jpg" alt="And it's gone" class="slide-img" style="max-width: 100%; max-height: 850px; margin: 0; object-fit: contain;">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- UI/UX -->
        <!-- ════════════════════════════════════════ -->
        <div id="ui-ux" class="step" data-x="-1800" data-y="3200" data-z="-8400" data-rotate-x="35" data-rotate-y="0" data-rotate-z="180" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag orange">UI/UX</span>
            <h2>Good UI/UX sometimes fails</h2>
            <ul>
                <li><span class="warn">Don't overwhelm the user with useless data</span> — nobody actually checks all 40 hex digits. Most wallets don't display them, and even blockchain explorers encourage glancing at the first and last few.</li>
            </ul>
            <img src="assets/etherscan-address.png" alt="Etherscan showing truncated address" class="slide-img" style="max-height: 250px; width: auto;">
            <ul>
                <li><span class="accent">Optimize for the common case</span> — users are far more likely to transact with a counterparty they've dealt with before than a stranger. "Frecency" makes choices convenient — which makes it easy for <span class="mallory">Mallory</span> to jump to the top of the autocomplete.</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- QUESTIONS -->
        <!-- ════════════════════════════════════════ -->
        <div id="questions" class="step" data-x="-2400" data-y="2400" data-z="-9800" data-rotate-x="40" data-rotate-y="0" data-rotate-z="210" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag orange">Investigation</span>
            <h2>Questions I had</h2>
            <ul>
                <li><span class="highlight">01</span> — How prevalent is this scam? Can it be easily identified?</li>
                <li><span class="highlight">02</span> — What is the scammers' revenue, expenses, and profit?</li>
                <li><span class="highlight">03</span> — Could the scammers potentially be caught and funds recovered?</li>
                <li><span class="highlight">04</span> — Ethics aside, am I in the wrong line of work?</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- HIGH LEVEL PLAN -->
        <!-- ════════════════════════════════════════ -->
        <div id="high-level-plan" class="step dense" data-x="-1800" data-y="1800" data-z="-14000" data-rotate-x="30" data-rotate-y="0" data-rotate-z="210" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag">Plan of Attack</span>
            <h2>High level plan</h2>
            <ul>
                <li>Extract all blockchain data into a database
                    <ul>
                        <li><span class="accent">Erigon</span> as the local Ethereum node (tried geth — slow; reth — corruption during sync)</li>
                        <li><span class="blue">Hetzner</span> server: 64 GB ECC RAM, 4 GHz / 32 cores, 8 TB NVMe, gigabit ethernet</li>
                        <li>Rust ETL app (<code>diethyl-etl</code>) to import into PostgreSQL — took over a week</li>
                    </ul>
                </li>
                <li>PostgreSQL queries to identify scam transactions, parties, and aggregate figures</li>
                <li>Web app (<span class="accent">Rust</span> backend + <span class="blue">Svelte</span> frontend) for visualization and spot checks</li>
                <li>Rust app running on <span class="highlight">CPU + GPU</span> to generate colliding addresses at high speed</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- VERY INTERESTING -->
        <!-- ════════════════════════════════════════ -->
        <div id="very-interesting" class="step" data-x="-1200" data-y="1200" data-z="-18000" data-rotate-x="20" data-rotate-y="0" data-rotate-z="210" data-rotate-order="zxy" data-scale="2">
            <video id="very-interesting-video" class="slide-video" style="max-height: 800px; width: auto;">
                <source src="assets/very-interesting.mp4" type="video/mp4">
            </video>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- PYTHON — parent (zoomed out) -->
        <!-- ════════════════════════════════════════ -->
        <div id="python" class="step" data-x="0" data-y="0" data-z="-28000" data-rotate-y="0" data-rotate-order="yxz" data-scale="3">
            <span class="tag">Broadly Relevant Topic #1</span>
            <h2>Python</h2>
            <ul>
                <li>Python is great. I like Python.</li>
                <li>My use case:
                    <ul>
                        <li>Import addresses, transactions, prices into DB from ETH node (JSON-RPC)</li>
                        <li>Must be really fast</li>
                        <li>Perform some basic filtering and analysis</li>
                    </ul>
                </li>
                <li>My first choice. But then...
                    <ul>
                        <li>ETL process should be I/O bound — PG/ETH Node should be bottleneck</li>
                        <li>It was <span class="warn">slow</span>; CPU bound</li>
                        <li>Time to do <span class="highlight">profiling!</span></li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- PYTHON PERF — nested child 1 (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="python-perf" class="step" data-x="0" data-y="-1600" data-z="-34000" data-rotate-y="0" data-rotate-order="yxz" data-scale="1">
            <span class="tag red">Python Performance</span>
            <h2>It's bad</h2>
            <ul>
                <li><code>cProfile</code>, <code>profile</code>, <code>hotshot</code> all come with Python</li>
                <li>None support multithreading, asyncio, multiprocessing</li>
                <li>Use <code class="accent">yappi</code></li>
                <li>Use <code class="accent">snakeviz</code> to see results</li>
                <li>Zen of Python vs concurrent/parallel code in Python</li>
            </ul>
            <img src="assets/snakeviz-screenshot.png" alt="snakeviz profiling output" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- WHY SLOW — nested child 2 (zoom in) -->
        <!-- contains two further zoom-ins -->
        <!-- ════════════════════════════════════════ -->
        <div id="why-slow" class="step" data-x="0" data-y="1600" data-z="-34000" data-rotate-y="0" data-rotate-order="yxz" data-scale="1">
            <span class="tag orange">Why slow? Why CPU bound?</span>
            <h2>Profiling results</h2>
            <ul>
                <li>Premature optimization: root of all evil</li>
                <li>Profiling: started with <code>-m cProfile</code></li>
                <li><span class="warn">Proxy check</span> was taking 33% of the time</li>
                <li>Kenneth Reitz wrote <code>requests</code> (smart guy)</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- PYTHON ETL SCRIPT -->
        <!-- ════════════════════════════════════════ -->
        <div id="python-etl" class="step" data-x="-3600" data-y="0" data-z="-38000" data-rotate-y="0" data-rotate-order="yxz" data-scale="0.5" style="padding: 30px 40px;">
            <h3 style="margin-bottom: 8px;">The ETL script</h3>
            <pre style="font-size: 15px; line-height: 1.3; padding: 16px;"><span style="color:#888">#!/usr/bin/env python3</span>
<span class="accent">import</span> requests

NODE_URL = <span class="highlight">"http://localhost:8545"</span>

<span class="accent">def</span> <span class="bob">rpc_request</span>(method, params):
    payload = {
        <span class="highlight">"jsonrpc"</span>: <span class="highlight">"2.0"</span>,
        <span class="highlight">"id"</span>: <span class="highlight">1</span>,
        <span class="highlight">"method"</span>: method,
        <span class="highlight">"params"</span>: params
    }
    resp = requests.post(NODE_URL, json=payload)
    resp.raise_for_status()
    <span class="accent">return</span> resp.json()[<span class="highlight">"result"</span>]

<span class="accent">def</span> <span class="bob">main</span>():
    <span style="color:#888"># Get the latest block number</span>
    latest_block = <span class="accent">int</span>(rpc_request(<span class="highlight">"eth_blockNumber"</span>, []), <span class="highlight">16</span>)
    <span class="accent">print</span>(<span class="highlight">f"Latest block: {latest_block}"</span>)

    all_txs = []
    <span class="accent">for</span> block_num <span class="accent">in</span> <span class="accent">range</span>(latest_block + <span class="highlight">1</span>):
        hex_bn = <span class="accent">hex</span>(block_num)
        block = rpc_request(<span class="highlight">"eth_getBlockByNumber"</span>, [hex_bn, <span class="highlight">True</span>])
        <span class="accent">if</span> block <span class="accent">and</span> block.get(<span class="highlight">"transactions"</span>):
            all_txs.extend(block[<span class="highlight">"transactions"</span>])
        <span class="accent">if</span> block_num % <span class="highlight">10000</span> == <span class="highlight">0</span> <span class="accent">and</span> block_num &gt; <span class="highlight">0</span>:
            <span class="accent">print</span>(<span class="highlight">f"  fetched through block {block_num}"</span>)

    <span class="accent">print</span>(<span class="highlight">f"Exported {len(all_txs)} transactions"</span>)

<span class="accent">if</span> __name__ == <span class="highlight">"__main__"</span>:
    main()</pre>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- PROFILING DETAIL — grandchild 1 (deep zoom) -->
        <!-- ════════════════════════════════════════ -->
        <div id="profiling-detail" class="step" data-x="0" data-y="-2000" data-z="-39000" data-rotate-y="0" data-rotate-order="yxz" data-scale="0.5">
            <h3>cProfile output</h3>
            <img src="assets/cprofile-output.png" alt="cProfile profiling output" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- THE SOLUTION — grandchild 2 (deep zoom) -->
        <!-- ════════════════════════════════════════ -->
        <div id="the-solution" class="step" data-x="0" data-y="2000" data-z="-39000" data-rotate-y="0" data-rotate-order="yxz" data-scale="0.5">
            <span class="tag accent">The solution!</span>
            <img src="assets/solution-screenshot.png" alt="The solution - trust_env = False" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- RUST — parent (zoomed out) -->
        <!-- ════════════════════════════════════════ -->
        <div id="rust" class="step" data-x="11416" data-y="0" data-z="-19708" data-rotate-y="72" data-rotate-order="yxz" data-scale="3">
            <span class="tag">Broadly Relevant Topic #2</span>
            <h2>Rust</h2>
            <ul>
                <li>Rust is good. I like Rust.</li>
                <li>Concurrency is weird but improving — async/await like JS, but needs a runtime (not part of the language). Threads still work. Just use tokio.</li>
                <li>Macros/build system is mind-blowing — single statically linked binary, check SQL at compile time against a real database!</li>
                <li>Cline rewrote the ETL process in Rust.</li>
                <li>Rust is <span class="warn">hard!</span> Explicit ownership is radical. Editions are a great idea.</li>
                <li>Amazing package manager (<span class="accent">Cargo</span>), ecosystem, community, and tooling with zero effort. Cline is good at it.</li>
            </ul>
            <img src="assets/rust-cargo-screenshot.png" alt="htop showing all CPU cores at 100% during Rust ETL" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- RUST CODE — nested child (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="rust-sqlx" class="step" data-x="7992" data-y="0" data-z="-23800" data-rotate-y="72" data-rotate-order="yxz" data-scale="0.6">
            <h3>Compile-time SQL checking with <code class="accent">sqlx::query!</code></h3>
            <img src="assets/rust-detail-screenshot.png" alt="VS Code showing sqlx compile-time SQL checking in Rust" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SOUTH PARK / VIBE CODING — parent -->
        <!-- ════════════════════════════════════════ -->
        <div id="vibe-coding" class="step" data-x="7054" data-y="0" data-z="-6292" data-rotate-y="144" data-rotate-order="yxz" data-scale="3">
            <span class="tag">Broadly Relevant Topic #3</span>
            <h2>They took our jerb! <span class="subtitle">(aka "Vibe Coding")</span></h2>
            <p style="margin-bottom: 16px;">Goobacks (S8E7 on 2004-04-28) and... Deep Learning (S26E4 on 2023-03-08)</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- VIDEO 1: Took our jobs -->
        <!-- ════════════════════════════════════════ -->
        <div id="took-our-jobs" class="step" data-x="2936" data-y="-1600" data-z="1120" data-rotate-y="144" data-rotate-order="yxz" data-scale="1.2">
            <h3>They took our jobs!</h3>
            <video class="slide-video" controls>
                <source src="assets/tookourjobs.mp4" type="video/mp4">
            </video>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- VIDEO 2: ChatGPT, dude -->
        <!-- ════════════════════════════════════════ -->
        <div id="chatgpt-dude" class="step" data-x="2936" data-y="1600" data-z="1120" data-rotate-y="144" data-rotate-order="yxz" data-scale="1.2">
            <h3>ChatGPT, dude</h3>
            <video class="slide-video" controls style="max-height: 650px; width: auto;">
                <source src="assets/chatgpt-dude.mp4" type="video/mp4">
            </video>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- CLINE TASK — nested (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="cline-task" class="step" data-x="584" data-y="-2400" data-z="6046" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.6">
            <h3>Cline: generate an ETH schema</h3>
            <img src="assets/southpark-screenshot1.png" alt="Cline task: generate SQL schema for Ethereum blocks and transactions" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- CLINE REASONING — nested (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="cline-reasoning" class="step" data-x="584" data-y="0" data-z="6046" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.8">
            <h3>Cline thinks it through</h3>
            <div class="img-grid">
                <img src="assets/southpark-screenshot2.png" alt="Cline reasoning about Ethereum block fields">
                <img src="assets/southpark-screenshot3.png" alt="Cline reasoning about transaction receipts and logs">
                <img src="assets/southpark-screenshot4.png" alt="Cline creates ethereum_schema.sql">
            </div>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- CLINE OUTPUT — nested (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="cline-output" class="step" data-x="584" data-y="2400" data-z="6046" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.6">
            <h3>The generated schema</h3>
            <img src="assets/southpark-ollama.png" alt="Generated SQL schema for Ethereum blockchain data" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- BEST AI CODING SETUP -->
        <!-- ════════════════════════════════════════ -->
        <div id="best-ai-setup" class="step" data-x="-1000" data-y="-800" data-z="8500" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.8">
            <span class="tag green">Recommendation</span>
            <h3>Best AI coding setup</h3>
            <ul>
                <li><span class="accent">Claude Code</span> — Anthropic's official CLI, agentic coding in the terminal</li>
                <li><span class="accent">OpenCode</span> — open-source alternative, works with any model</li>
                <li>My favorite cloud model: <span class="highlight">Claude Opus 4.6</span> (came out yesterday!)</li>
                <li>Anthropic's <span class="blue">Claude Max</span> at $100/month is worth every penny — unlimited Opus usage for heavy coding sessions</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- CLAUDE CODE TESTS SCREENSHOT -->
        <!-- ════════════════════════════════════════ -->
        <div id="claude-code-tests" class="step" data-x="-1384" data-y="-400" data-z="9736" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.7" style="padding: 0; display: flex; align-items: center; justify-content: center;">
            <img src="assets/claude-code-tests.png" alt="Claude Code finding tests in a project" class="slide-img" style="max-width: 100%; max-height: 850px; margin: 0; object-fit: contain;">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- LOCAL LLM — nested (deep zoom) -->
        <!-- ════════════════════════════════════════ -->
        <div id="local-llm" class="step" data-x="-1768" data-y="0" data-z="10972" data-rotate-y="144" data-rotate-order="yxz" data-scale="0.6">
            <span class="tag orange">Advice wanted!</span>
            <h3>Running LLMs locally</h3>
            <ul>
                <li>Some businesses are paranoid, some managers hate productivity — cloud AI isn't for all projects</li>
                <li>ETH switching from POW to POS = more GPUs available</li>
                <li>Top contenders: <span class="accent">Qwen3-Coder-Next</span> (3 days ago), <span class="accent">DeepSeek v3.2</span>, <span class="accent">Kimi K2.5</span></li>
                <li>Subreddits: <a href="https://reddit.com/r/ollama" style="color: #40c4ff;">r/ollama</a>, <a href="https://reddit.com/r/LocalLLaMA" style="color: #40c4ff;">r/LocalLLaMA</a>, <a href="https://reddit.com/r/LocalLLM" style="color: #40c4ff;">r/LocalLLM</a></li>
            </ul>
            <img src="assets/southpark-localllm.png" alt="Cline Ollama configuration for local LLM" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- POSTGRESQL — parent (zoomed out) -->
        <!-- ════════════════════════════════════════ -->
        <div id="postgres" class="step" data-x="-7054" data-y="0" data-z="-6292" data-rotate-y="216" data-rotate-order="yxz" data-scale="3">
            <span class="tag">Broadly Relevant Topic #3</span>
            <h2>PostgreSQL <span class="subtitle">(The elephant in the room)</span></h2>
            <div class="grid-2">
                <div>
                    <ul>
                        <li>Recently compared RDBMS for a client — <span class="accent">best choice by far</span>. Free (beer + freedom), tons of managed offerings, 400+ extensions.</li>
                        <li>Read Hacker News</li>
                    </ul>
                    <img src="assets/postgres-hackernews.jpg" alt="Hacker News discussion about PostgreSQL" class="slide-img">
                </div>
                <div style="text-align: center;">
                    <img src="assets/postgresql-elephant.png" alt="PostgreSQL elephant logo" class="slide-img" style="max-width: 400px;">
                </div>
            </div>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- POSTGRES ECOSYSTEM — nested (zoom in) -->
        <!-- ════════════════════════════════════════ -->
        <div id="postgres-ecosystem" class="step" data-x="-2938" data-y="0" data-z="-630" data-rotate-y="216" data-rotate-order="yxz" data-scale="0.6" style="padding: 0; display: flex; align-items: center; justify-content: center;">
            <img src="assets/postgres-ecosystem.jpg" alt="PostgreSQL ecosystem diagram" class="slide-img" style="max-width: 100%; max-height: 850px; margin: 0; object-fit: contain;">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- PARQUET FILES -->
        <!-- ════════════════════════════════════════ -->
        <div id="parquet" class="step" data-x="-11416" data-y="0" data-z="-19708" data-rotate-y="288" data-rotate-order="yxz" data-scale="3">
            <span class="tag">Broadly Relevant Topic #4</span>
            <h2>Parquet Files</h2>
            <p style="margin-bottom: 12px;">Start with CSV, then solve every problem:</p>
            <ul>
                <li>Add schema (with types)</li>
                <li>CSV has dozens of "conventions" (e.g., null = ?)
                    <ul>
                        <li>Parquet is well-defined</li>
                    </ul>
                </li>
                <li>Compression (Snappy, GZIP, Brotli)</li>
                <li>Columnar layout: only read subset of fields</li>
                <li>Nested data structures: no more ad-hoc</li>
                <li>Metadata: statistics, custom K/V, timestamps</li>
                <li>Partitioning: split into N files; engines support that!</li>
                <li>No I10N ambiguity: with floats, what is "," vs. "."?</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SCAM ANALYSIS — parent (zoomed out) -->
        <!-- ════════════════════════════════════════ -->
        <div id="scam-analysis" class="step" data-x="-2400" data-y="-1600" data-z="-44000" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="3">
            <span class="tag red">The Analysis</span>
            <h2>Scam analysis!</h2>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- DUPLICATE SHORT ADDRESSES -->
        <!-- ════════════════════════════════════════ -->
        <div id="duplicate-addresses" class="step" data-x="-4000" data-y="-2800" data-z="-47000" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="1.2">
            <span class="tag orange">Address Collisions</span>
            <h2>Duplicate short addresses</h2>
            <ul>
                <li>ETH addresses are <span class="accent">40 hex characters</span>
                    <ul>
                        <li>1 hex char = 4 bits → 40 × 4 = 160 bits (20 bytes)</li>
                    </ul>
                </li>
                <li>People typically only check the <span class="highlight">first and last few characters</span>
                    <ul>
                        <li>First 4 + last 4 hex chars = 8 hex chars = 4 bytes = 32 bits ≈ <span class="accent">4.3 billion</span></li>
                    </ul>
                </li>
                <li><span class="blue">299 million</span> distinct addresses observed</li>
                <li>299M / 4.3B ≈ ~<span class="warn">1 in 14</span> addresses have a duplicate</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- TRANSACTION ANALYSIS — arrows + PostgreSQL -->
        <!-- ════════════════════════════════════════ -->
        <div id="tx-analysis" class="step" data-x="-4800" data-y="-3600" data-z="-49000" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="1.2">
            <h3>Transaction pattern</h3>
            <div class="flow">
                <div class="flow-step">
                    <span class="flow-num green">1</span>
                    <div class="flow-node alice"><span class="alice">Alice</span> → <span class="bob">Bob</span> <span style="color:#888">(legitimate)</span></div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">2</span>
                    <div class="flow-node mallory"><span class="mallory">Mallory</span> → <span class="alice">Alice</span> <span style="color:#888">(bait)</span></div>
                </div>
                <div class="flow-arrow">&#8595;</div>
                <div class="flow-step">
                    <span class="flow-num red">3</span>
                    <div class="flow-node mallory"><span class="alice">Alice</span> → <span class="mallory">Mallory</span> <span style="color:#888">(scammed!)</span></div>
                </div>
            </div>
            <p style="margin-top: 24px; font-size: 36px; text-align: center;">Just use <span class="accent">PostgreSQL!</span></p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- MALLORY'S PERSPECTIVE -->
        <!-- ════════════════════════════════════════ -->
        <div id="mallory-perspective" class="step" data-x="-5200" data-y="-4800" data-z="-50400" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.6" style="padding: 20px 40px;">
            <h3>From <span class="mallory">Mallory's</span> perspective</h3>
            <img src="assets/mallory-perspective.png" alt="Etherscan view from Mallory's perspective" class="slide-img" style="max-height: 700px; width: auto;">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- ALICE'S PERSPECTIVE -->
        <!-- ════════════════════════════════════════ -->
        <div id="alice-perspective" class="step" data-x="-5800" data-y="-5600" data-z="-51600" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.6" style="padding: 20px 40px;">
            <h3>From <span class="alice">Alice's</span> perspective</h3>
            <img src="assets/alice-perspective.png" alt="Etherscan view from Alice's perspective" class="slide-img" style="max-height: 700px; width: auto;">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- MANUAL SPOT CHECKS -->
        <!-- ════════════════════════════════════════ -->
        <div id="spot-checks" class="step" data-x="-6400" data-y="-4400" data-z="-52800" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.6">
            <span class="tag blue">Specifics</span>
            <h3>Precise definitions</h3>
            <ul>
                <li>Each transaction type is defined by its predecessor plus additional criteria</li>
                <li><span class="alice">Alice</span> → <span class="bob">Bob</span>: legitimate tx with value &gt; 0.05 ETH to a "short address" duplicate</li>
                <li><span class="mallory">Mallory</span> → <span class="alice">Alice</span>: tiny tx (&lt; 0.01 ETH) from a lookalike address, within 7200 blocks</li>
                <li><span class="alice">Alice</span> → <span class="mallory">Mallory</span>: Alice sends to Mallory's address after the bait tx</li>
                <li>Cross-referenced with Etherscan — pattern is consistent and unmistakable</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SQL: Alice to Bob -->
        <!-- ════════════════════════════════════════ -->
        <div id="sql-alice-to-bob" class="step" data-x="-7200" data-y="-5200" data-z="-54400" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.5">
            <h3><span class="alice">Alice</span> → <span class="bob">Bob</span> <span style="color:#888">(legitimate)</span></h3>
            <pre><span class="accent">CREATE MATERIALIZED VIEW</span> ethereum_transactions_alice_to_bob <span class="accent">AS</span>
 <span class="accent">SELECT DISTINCT</span> t.hash <span class="accent">AS</span> transaction_hash,
    t.from_address <span class="accent">AS</span> alice_address,
    t.to_address <span class="accent">AS</span> bob_address,
    t.to_address_32 <span class="accent">AS</span> bob_short_32,
    t.value, t.block_number
 <span class="accent">FROM</span> ethereum_transactions t
 <span class="accent">JOIN</span> short_addresses sa
   <span class="accent">ON</span> t.to_address_32 = sa.address_short_32_int
 <span class="accent">WHERE</span> sa.address_count &gt; <span class="highlight">1</span>
   <span class="accent">AND</span> t.value &gt; <span class="highlight">0.05</span> * <span style="color:#888">'1000000000000000000'</span>
   <span class="accent">AND</span> t.to_address <span class="accent">IS NOT NULL</span>;</pre>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SQL: Mallory to Alice -->
        <!-- ════════════════════════════════════════ -->
        <div id="sql-mallory-to-alice" class="step" data-x="-8000" data-y="-6000" data-z="-56000" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.5">
            <h3><span class="mallory">Mallory</span> → <span class="alice">Alice</span> <span style="color:#888">(bait)</span></h3>
            <pre><span class="accent">CREATE MATERIALIZED VIEW</span> ethereum_transactions_mallory_to_alice <span class="accent">AS</span>
 <span class="accent">WITH</span> ignore_addresses <span class="accent">AS</span> (
   <span class="accent">SELECT</span> address_raw <span class="accent">AS</span> address
   <span class="accent">FROM</span> ethereum_addresses
   <span class="accent">WHERE</span> is_phishing = <span class="highlight">false</span>
 )
 <span class="accent">SELECT DISTINCT</span> t.hash, t.block_number,
    t.from_address <span class="accent">AS</span> mallory_address,
    t.to_address <span class="accent">AS</span> alice_address,
    t.value, atb.bob_short_32
 <span class="accent">FROM</span> ethereum_transactions t
 <span class="accent">JOIN</span> ethereum_transactions_alice_to_bob atb
   <span class="accent">ON</span> t.to_address = atb.alice_address
   <span class="accent">AND</span> t.from_address_32 = atb.bob_short_32
   <span class="accent">AND</span> t.from_address &lt;&gt; atb.bob_address
   <span class="accent">AND</span> t.value &lt; <span class="highlight">0.01</span> * <span style="color:#888">'1000000000000000000'</span>
   <span class="accent">AND</span> t.block_number &gt;= atb.block_number
   <span class="accent">AND</span> t.block_number &lt;= atb.block_number + <span class="highlight">7200</span>
 <span class="accent">WHERE NOT EXISTS</span> (
   <span class="accent">SELECT</span> <span class="highlight">1</span> <span class="accent">FROM</span> ignore_addresses ia
   <span class="accent">WHERE</span> t.from_address = ia.address
      <span class="accent">OR</span> t.to_address = ia.address
 );</pre>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SQL: Alice to Mallory -->
        <!-- ════════════════════════════════════════ -->
        <div id="sql-alice-to-mallory" class="step" data-x="-8800" data-y="-6800" data-z="-57600" data-rotate-x="45" data-rotate-z="240" data-rotate-order="zxy" data-scale="0.5">
            <h3><span class="alice">Alice</span> → <span class="mallory">Mallory</span> <span style="color:#888">(scammed!)</span></h3>
            <pre><span class="accent">CREATE MATERIALIZED VIEW</span> ethereum_transactions_alice_to_mallory <span class="accent">AS</span>
 <span class="accent">SELECT DISTINCT</span> t.hash <span class="accent">AS</span> transaction_hash,
    t.from_address <span class="accent">AS</span> alice_address,
    t.to_address <span class="accent">AS</span> mallory_address,
    t.to_address_32 <span class="accent">AS</span> bob_mallory_short_32,
    t.value, t.block_number
 <span class="accent">FROM</span> ethereum_transactions t
 <span class="accent">JOIN</span> ethereum_transactions_mallory_to_alice mta
   <span class="accent">ON</span> t.from_address = mta.alice_address
   <span class="accent">AND</span> t.to_address = mta.mallory_address
   <span class="accent">AND</span> t.block_number &gt; mta.transaction_block_number;</pre>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SCAM STATS - LAST 365 DAYS -->
        <!-- ════════════════════════════════════════ -->
        <div id="scam-stats-365" class="step" data-x="-10000" data-y="-8000" data-z="-62000" data-rotate-x="46" data-rotate-z="245" data-rotate-order="zxy" data-scale="1.2" style="width: 1400px;">
            <span class="tag red">Results</span>
            <h2>Last 365 days</h2>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 22px;">
                <tr style="border-bottom: 1px solid #444;">
                    <th style="padding: 8px 12px; color: #666; text-align: left; font-weight: normal; border-right: 1px solid #333;"></th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">ETH</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">USD (@&nbsp;tx)</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">USD (@&nbsp;$2k)</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">Transactions</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal;">Parties</th>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">STOLEN</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">590.27&nbsp;ETH</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">$1,947,208</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">$1,180,536</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">461&nbsp;tx</span></td>
                    <td style="padding: 12px 12px; text-align: right;"><span class="highlight">408&nbsp;victims</span></td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">BAIT COST</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">4.83&nbsp;ETH</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$12,992</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$9,658</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">7,416,543&nbsp;tx</td>
                    <td style="padding: 12px 12px; text-align: right;">1,247,402&nbsp;targets</td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">TX FEES</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">68.49&nbsp;ETH</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$179,763</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$136,980</td>
                    <td style="padding: 12px 12px; border-right: 1px solid #333;"></td>
                    <td style="padding: 12px 12px;"></td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">NET PROFIT</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+516.95&nbsp;ETH</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+$1,754,453</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+$1,033,898</span></td>
                    <td style="padding: 12px 12px; border-right: 1px solid #333;"></td>
                    <td style="padding: 12px 12px;"></td>
                </tr>
                <tr>
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">SUCCESS RATE</td>
                    <td colspan="5" style="padding: 12px 12px; text-align: right;"><span class="accent">&lt;0.01%</span> — 461 / 7,416,543 bait tx</td>
                </tr>
            </table>
            <p style="margin-top: 12px; font-size: 18px; color: #666;">USD values derived from CoinMarketCap exchange rate at time of each transaction</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SCAM STATS - ALL TIME -->
        <!-- ════════════════════════════════════════ -->
        <div id="scam-stats" class="step" data-x="-12000" data-y="-10000" data-z="-68000" data-rotate-x="48" data-rotate-z="250" data-rotate-order="zxy" data-scale="1.2" style="width: 1400px;">
            <span class="tag red">Results</span>
            <h2>All time</h2>
            <table style="width: 100%; border-collapse: collapse; margin: 20px 0; font-size: 22px;">
                <tr style="border-bottom: 1px solid #444;">
                    <th style="padding: 8px 12px; color: #666; text-align: left; font-weight: normal; border-right: 1px solid #333;"></th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">ETH</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">USD (@&nbsp;tx)</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">USD (@&nbsp;$2k)</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal; border-right: 1px solid #333;">Transactions</th>
                    <th style="padding: 8px 12px; color: #666; text-align: right; font-weight: normal;">Parties</th>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">STOLEN</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">31,917.5&nbsp;ETH</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">$77,164,227</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">$63,835,000</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="highlight">772&nbsp;tx</span></td>
                    <td style="padding: 12px 12px; text-align: right;"><span class="highlight">564&nbsp;victims</span></td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">BAIT COST</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">13.78&nbsp;ETH</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$38,940</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$27,560</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">8,281,104&nbsp;tx</td>
                    <td style="padding: 12px 12px; text-align: right;">1,436,369&nbsp;targets</td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">TX FEES</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">305.9&nbsp;ETH</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$881,523</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;">$611,800</td>
                    <td style="padding: 12px 12px; border-right: 1px solid #333;"></td>
                    <td style="padding: 12px 12px;"></td>
                </tr>
                <tr style="border-bottom: 1px solid #333;">
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">NET PROFIT</td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+31,597.8&nbsp;ETH</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+$76,243,764</span></td>
                    <td style="padding: 12px 12px; text-align: right; border-right: 1px solid #333;"><span class="alice">+$63,195,640</span></td>
                    <td style="padding: 12px 12px; border-right: 1px solid #333;"></td>
                    <td style="padding: 12px 12px;"></td>
                </tr>
                <tr>
                    <td style="padding: 12px 12px; color: #888; border-right: 1px solid #333;">SUCCESS RATE</td>
                    <td colspan="5" style="padding: 12px 12px; text-align: right;"><span class="accent">&lt;0.01%</span> — 772 / 8,281,104 bait tx</td>
                </tr>
            </table>
            <p style="margin-top: 12px; font-size: 18px; color: #666;">USD values derived from CoinMarketCap exchange rate at time of each transaction</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SUCCESS RATE COMPARISON -->
        <!-- ════════════════════════════════════════ -->
        <div id="success-rate-comparison" class="step" data-x="-14000" data-y="-12000" data-z="-74000" data-rotate-x="49" data-rotate-z="255" data-rotate-order="zxy" data-scale="1.2">
            <span class="tag orange">Perspective</span>
            <h2>How unlikely is 0.0093%?</h2>
            <p style="font-size: 48px; margin: 40px 0;"><span class="accent">1 in 10,700</span></p>
            <ul>
                <li>Similar to guessing a <span class="highlight">4-digit PIN</span> on the first try (1 in 10,000)</li>
                <li>Similar to getting <span class="highlight">struck by lightning</span> in a given year (1 in 15,000)</li>
            </ul>
            <p style="margin-top: 40px; color: #888;">Yet with 8 million attempts, 772 people still got scammed.</p>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- NEXT STEPS -->
        <!-- ════════════════════════════════════════ -->
        <div id="next-steps" class="step" data-x="-16000" data-y="-14000" data-z="-80000" data-rotate-x="50" data-rotate-z="260" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag accent">What's next</span>
            <h2>Next steps</h2>
            <ul>
                <li><span class="blue">Real-time detection:</span> continuously process new blocks and flag suspicious transactions, feed data to wallets and block explorers so users get warnings <em>before</em> they send</li>
                <li><span class="accent">Expand to other chains:</span> this attack applies to nearly every blockchain. Layer-2 chains like Binance Smart Chain are especially ripe — lower fees make the scam cheaper to run at scale</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- NEXT STEPS (AMBITIOUS) -->
        <!-- ════════════════════════════════════════ -->
        <div id="next-steps-ambitious" class="step" data-x="-18000" data-y="-16000" data-z="-86000" data-rotate-x="55" data-rotate-z="280" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag accent">What's next</span>
            <h2>Next steps <span class="subtitle">(for the ambitious)</span></h2>
            <ul>
                <li><span class="highlight">Follow the money:</span> trace how <span class="mallory">Mallory's</span> addresses were funded and where stolen funds end up — if either side touches a KYC exchange, recovery may actually be possible</li>
                <li><span class="warn">Hunt the tooling:</span> locate the software and developers that make mass address generation and poisoning possible — understand the supply chain behind the scam</li>
                <li><span class="alice">Exploit the scammers:</span> bait is sent from many scammers to <span class="alice">Alice</span> for <span class="alice">Alice</span> ↔ <span class="bob">Bob</span> pairs that frequently transact — if Alice <em>is</em> Bob, then the bait adds up. Can profit be made after transaction fees?</li>
            </ul>
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- SCAM EXPLORER -->
        <!-- ════════════════════════════════════════ -->
        <div id="scam-explorer" class="step" data-x="-20000" data-y="-18000" data-z="-92000" data-rotate-x="55" data-rotate-z="290" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag red">Live Demo</span>
            <h2>Scam explorer</h2>
            <p style="margin-bottom: 16px;"><a href="https://diethyl.hut8.tools" style="color: #40c4ff;">diethyl.hut8.tools</a></p>
            <img src="assets/scam-explorer.png" alt="Diethyl scam explorer showing phishing victims and stolen funds" class="slide-img">
        </div>

        <!-- ════════════════════════════════════════ -->
        <!-- CONTACT -->
        <!-- ════════════════════════════════════════ -->
        <div id="contact" class="step" data-x="-22000" data-y="-20000" data-z="-98000" data-rotate-x="55" data-rotate-z="300" data-rotate-order="zxy" data-scale="1.5">
            <span class="tag green">Contact</span>
            <h2>Liam Bowen</h2>
            <div class="divider"></div>
            <p>Lead Software Engineer</p>
            <p><span class="accent">Supervillain Software Group</span></p>
            <p>Troy, NY</p>
            <p style="margin-top: 16px;"><a href="mailto:liam@supervillains.io" style="color: #40c4ff;">liam@supervillains.io</a></p>
            <p style="margin-top: 8px;"><a href="https://hut8.github.io" style="color: #40c4ff;">hut8.github.io</a></p>
            <p style="margin-top: 32px; font-style: italic; color: #888;">Scan my right wrist to import my contact info via NFC</p>
        </div>

        <!-- Overview (invisible, for navigation) -->
        <div id="overview" class="step overview" data-x="-8000" data-y="-8000" data-z="-50000" data-rotate-x="10" data-scale="140"></div>

    </div>

    <!-- Navigation Menu -->
    <div id="nav-menu">
        <div id="nav-menu-inner">
            <div id="nav-menu-header">Slides (press T to close)</div>
            <ul id="nav-menu-list"></ul>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/gh/impress/impress.js@2.0.0/js/impress.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script>
        var api = impress();
        api.init();

        // Custom navigation menu
        (function() {
            var menu = document.getElementById('nav-menu');
            var list = document.getElementById('nav-menu-list');
            var steps = document.querySelectorAll('.step:not(.overview)');

            // Build menu from slides
            steps.forEach(function(step, index) {
                var title = '';
                var h1 = step.querySelector('h1');
                var h2 = step.querySelector('h2');
                var h3 = step.querySelector('h3');
                var tag = step.querySelector('.tag');

                if (h1) title = h1.textContent.trim();
                else if (h2) title = h2.textContent.trim();
                else if (h3) title = h3.textContent.trim();
                else if (tag) title = tag.textContent.trim();
                else title = step.id || 'Slide ' + (index + 1);

                var li = document.createElement('li');
                li.dataset.stepId = step.id;
                var a = document.createElement('a');
                a.href = '#/' + step.id;
                a.innerHTML = '<span class="slide-num">' + (index + 1) + '</span>' + title;
                a.addEventListener('click', function(e) {
                    e.preventDefault();
                    api.goto(step.id);
                    menu.classList.remove('visible');
                });
                li.appendChild(a);
                list.appendChild(li);
            });

            // Toggle menu with 't' key
            document.addEventListener('keydown', function(e) {
                if (e.key === 't' || e.key === 'T') {
                    menu.classList.toggle('visible');
                    e.preventDefault();
                }
                if (e.key === 'Escape' && menu.classList.contains('visible')) {
                    menu.classList.remove('visible');
                }
            });

            // Close when clicking outside
            menu.addEventListener('click', function(e) {
                if (e.target === menu) {
                    menu.classList.remove('visible');
                }
            });

            // Highlight current slide
            document.addEventListener('impress:stepenter', function(e) {
                var items = list.querySelectorAll('li');
                items.forEach(function(item) {
                    item.classList.remove('active');
                    if (item.dataset.stepId === e.target.id) {
                        item.classList.add('active');
                    }
                });
            });
        })();

        var vid = document.getElementById('very-interesting-video');
        vid.addEventListener('ended', function() { api.next(); });
        document.getElementById('very-interesting').addEventListener('impress:stepenter', function() {
            vid.currentTime = 0;
            vid.play();
        });
        particlesJS('particles-js', {
            particles: {
                number: { value: 120, density: { enable: true, value_area: 900 } },
                color: { value: '#ffffff' },
                shape: { type: 'circle' },
                opacity: { value: 0.3, random: true, anim: { enable: true, speed: 0.5, opacity_min: 0.1 } },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 160, color: '#ffffff', opacity: 0.15, width: 1 },
                move: { enable: true, speed: 0.8, direction: 'none', random: true, out_mode: 'out' }
            },
            interactivity: { events: { onhover: { enable: false }, onclick: { enable: false } } },
            retina_detect: true
        });
    </script>
</body>
</html>
